namespace SpriteKind {
    export const Coin = SpriteKind.create()
    export const Bush = SpriteKind.create()
    export const Shrub = SpriteKind.create()
    export const tree = SpriteKind.create()
    export const fireball = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.tree, function (sprite, otherSprite) {
    otherSprite.destroy()
    Squirrel = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Enemy)
    animation.runImageAnimation(
    Squirrel,
    [img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .....fffc1111111f.......
        ...fc111cd1111111f......
        ...f1b1b1b1111dddf......
        ...fbfbffcf11fcddf......
        ......fcf111111bbf......
        .......ccbdb1b1fcf......
        .......fffbfbfdff.......
        ........ffffffff........
        ........fffffffffff.....
        .........fffffc111cf....
        .........fffff1b1b1f....
        ..........ffffbfbfbf....
        ...........ffff.........
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f11111111f.......
        ......fd11111111df......
        ....7.fd11111111df......
        ...7..fd11111111df......
        ...7..fd11111111df......
        ...7..fddd1111dddff.....
        ...77.fbdbfddfbdbfcf....
        ...777fcdcf11fcdcfbf....
        ....77fffbdb1bdffcf.....
        ....fcb1bcffffff........
        ....f1c1c1ffffff........
        ....fdfdfdfffff.........
        .....f.f.f..............
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f11111111f.......
        ......fd111111111f......
        ......fd11111111df......
        ......fd11111111df......
        ......fcdd1111ddcff.....
        .......fbcf11fcbfbbf....
        .......ffbdb1bdffff.....
        ........fcbfbfdf........
        ........ffffffff........
        ......ffffffffff........
        .....fcb1bcffff.........
        ......ffbff.............
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f11111111f.......
        ......fd11111111df......
        ......fdd111111ddf......
        ......fbdd1111dddf......
        ......fcdbfddfbdbf......
        .......fbcf11fcbfff.....
        .......ffb1111bcfbcf....
        ........fcdb1bdfbbbf....
        .......ffffffffffcf.....
        .....fcb1bcfffff........
        .....f1b1b1ffff.........
        ......ffbff.............
        ........................
        ........................
        ........................
        ........................
        ........................
        `],
    100,
    true
    )
    Squirrel.setPosition(Alfie.x + 80, Alfie.y - 80)
    Squirrel.follow(Alfie)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    music.baDing.play()
    otherSprite.destroy()
})
function startinstructions () {
    game.setDialogFrame(img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        9 5 5 5 5 5 5 5 5 5 5 5 5 5 9 
        9 5 9 9 9 9 9 9 9 9 9 9 9 5 9 
        9 5 9 5 5 5 5 5 5 5 5 5 9 5 9 
        9 5 9 5 9 9 9 9 9 9 9 5 9 5 9 
        9 5 9 5 9 5 5 5 5 5 9 5 9 5 9 
        9 5 9 5 9 5 9 9 9 5 9 5 9 5 9 
        9 5 9 5 9 5 9 5 9 5 9 5 9 5 9 
        9 5 9 5 9 5 9 9 9 5 9 5 9 5 9 
        9 5 9 5 9 5 5 5 5 5 9 5 9 5 9 
        9 5 9 5 9 9 9 9 9 9 9 5 9 5 9 
        9 5 9 5 5 5 5 5 5 5 5 5 9 5 9 
        9 5 9 9 9 9 9 9 9 9 9 9 9 5 9 
        9 5 5 5 5 5 5 5 5 5 5 5 5 5 9 
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
        `)
    game.setDialogCursor(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . f b e e e e 3 f . . . . . 
        . . . f b b e e 3 3 f . . . . . 
        . . . f e f e e f e f . . . . . 
        . . . f e f e e f e f . . . . . 
        . . . f e e 2 e e e f . . . . . 
        . . . f e e e e e e f . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
    game.showLongText("Cocochu will come to tp box to reach his home", DialogLayout.Center)
    game.showLongText("but strawberry ground is full of ghosts", DialogLayout.Center)
    game.showLongText("they are hiding under strawberries", DialogLayout.Center)
    game.showLongText("GO TO THE WIN!!!!!", DialogLayout.Center)
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Alfie.vy == 0) {
        Alfie.vy = -125
    }
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile3, function (sprite, location) {
    game.over(false, effects.splatter)
    music.powerDown.play()
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile4, function (sprite, location) {
    current_level += 1
    music.powerUp.playUntilDone()
    startLevel()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.fireball, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    Alfie.say("uuu", 500)
    music.powerDown.play()
    otherSprite.destroy()
})
function startLevel () {
    if (current_level == 0) {
        tiles.setTilemap(tilemap`level2`)
    } else if (current_level == 1) {
        tiles.setTilemap(tilemap`level3`)
    } else if (current_level == 2) {
        tiles.setTilemap(tilemap`level4`)
    } else if (current_level == 3) {
        tiles.setTilemap(tilemap`level5`)
    } else {
        game.over(true)
    }
    tiles.placeOnRandomTile(Alfie, myTiles.tile8)
    for (let value of tiles.getTilesByType(myTiles.tile8)) {
        tiles.setTileAt(value, myTiles.tile0)
    }
    scene.cameraFollowSprite(Alfie)
    info.setLife(5)
    for (let value2 of sprites.allOfKind(SpriteKind.Enemy)) {
        value2.destroy()
    }
    for (let value3 of sprites.allOfKind(SpriteKind.Coin)) {
        value3.destroy()
    }
    for (let value4 of sprites.allOfKind(SpriteKind.tree)) {
        value4.destroy()
    }
    for (let value5 of tiles.getTilesByType(myTiles.tile5)) {
        coin2 = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . f f f f f f f . . . . 
            . . . . f 5 5 5 5 5 5 5 f . . . 
            . . . f 5 5 4 4 4 4 4 5 5 f . . 
            . . f 5 5 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 5 5 5 5 5 5 5 5 5 5 f . 
            . . . f 5 5 4 4 4 4 4 5 5 f . . 
            . . . . f 5 5 5 5 5 5 5 f . . . 
            . . . . . f f f f f f f . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Coin)
        animation.runImageAnimation(
        coin2,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . f f f f f f f . . . . 
            . . . . f 5 5 5 5 5 5 5 f . . . 
            . . . f 5 5 4 4 4 4 4 5 5 f . . 
            . . f 5 5 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 4 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 5 5 5 5 5 5 5 5 5 5 f . 
            . . . f 5 5 4 4 4 4 4 5 5 f . . 
            . . . . f 5 5 5 5 5 5 5 f . . . 
            . . . . . f f f f f f f . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f f . . . . . 
            . . . . . f 5 5 5 5 5 f . . . . 
            . . . . f 5 5 4 4 4 5 5 f . . . 
            . . . f 5 5 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 5 5 5 5 5 5 5 5 f . . 
            . . . . f 5 5 4 4 4 5 5 f . . . 
            . . . . . f 5 5 5 5 5 f . . . . 
            . . . . . . f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . . . f 5 5 5 f . . . . . 
            . . . . . f 5 5 4 5 5 f . . . . 
            . . . . f 5 5 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 5 5 5 5 5 5 f . . . 
            . . . . . f 5 5 4 5 5 f . . . . 
            . . . . . . f 5 5 5 f . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . f f f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . f 5 5 5 f . . . . . 
            . . . . . f 5 5 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 5 5 5 5 f . . . . 
            . . . . . . f 5 5 5 f . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . f f f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . f f f . . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . f 5 5 5 f . . . . . 
            . . . . . f 5 5 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 4 5 5 5 f . . . . 
            . . . . . f 5 5 5 5 5 f . . . . 
            . . . . . . f 5 5 5 f . . . . . 
            . . . . . . . f 5 f . . . . . . 
            . . . . . . . f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . . . f 5 5 5 f . . . . . 
            . . . . . f 5 5 4 5 5 f . . . . 
            . . . . f 5 5 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 4 5 5 5 5 5 f . . . 
            . . . . f 5 5 5 5 5 5 5 f . . . 
            . . . . . f 5 5 4 5 5 f . . . . 
            . . . . . . f 5 5 5 f . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f f f . . . . . 
            . . . . . f 5 5 5 5 5 f . . . . 
            . . . . f 5 5 4 4 4 5 5 f . . . 
            . . . f 5 5 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 4 5 5 5 5 5 5 5 f . . 
            . . . f 5 5 5 5 5 5 5 5 5 f . . 
            . . . . f 5 5 4 4 4 5 5 f . . . 
            . . . . . f 5 5 5 5 5 f . . . . 
            . . . . . . f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            `],
        100,
        true
        )
        tiles.placeOnTile(coin2, value5)
        tiles.setTileAt(value5, myTiles.tile0)
    }
    for (let value22 of tiles.getTilesByType(myTiles.tile7)) {
        tree2 = sprites.create(img`
            . . . . . . . 6 . . . . . . . 
            . . . . . . 8 6 6 . . . 6 8 . 
            . . . e e e 8 8 6 6 . 6 7 8 . 
            . . e 2 2 2 2 e 8 6 6 7 6 . . 
            . e 2 2 4 4 2 7 7 7 7 7 8 6 . 
            . e 2 4 4 2 6 7 7 7 6 7 6 8 8 
            e 2 4 5 2 2 6 7 7 6 2 7 7 6 . 
            e 2 4 4 2 2 6 7 6 2 2 6 7 7 6 
            e 2 4 2 2 2 6 6 2 2 2 e 7 7 6 
            e 2 4 2 2 4 2 2 2 4 2 2 e 7 6 
            e 2 4 2 2 2 2 2 2 2 2 2 e c 6 
            e 2 2 2 2 2 2 2 4 e 2 e e c . 
            e e 2 e 2 2 4 2 2 e e e c . . 
            e e e e 2 e 2 2 e e e c . . . 
            e e e 2 e e c e c c c . . . . 
            . c c c c c c c . . . . . . . 
            `, SpriteKind.tree)
        tiles.placeOnTile(tree2, value22)
        tiles.setTileAt(value22, myTiles.tile0)
    }
    for (let value222 of tiles.getTilesByType(myTiles.tile15)) {
        Fireball = sprites.create(img`
            . . . . . . . b b . . . . . . . 
            . . . . . . b d d b . . . . . . 
            . . . . . b d 5 5 d b . . . . . 
            . . . . b b 5 5 5 5 b b . . . . 
            . . . . b 5 5 5 5 5 5 b . . . . 
            b b b b b 5 5 5 5 1 1 d b b b b 
            b 5 5 5 5 5 5 5 5 1 1 1 5 5 5 b 
            b d d 5 5 f 1 5 f 1 1 1 5 d d b 
            . b d d 5 f f 5 f f 5 5 d d b . 
            . . b b 5 5 5 5 5 5 5 5 b b . . 
            . . c b 5 5 5 5 5 5 5 5 b c . . 
            . . c 5 5 5 5 d d 5 5 5 5 c . . 
            . . c 5 5 d b b b b d 5 5 c . . 
            . . c 5 d b c c c c b d 5 c . . 
            . . c c c c . . . . c c c c . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.fireball)
        tiles.placeOnTile(Fireball, value222)
        tiles.setTileAt(value222, myTiles.tile0)
        animation.runMovementAnimation(
        Fireball,
        animation.animationPresets(animation.flyToCenter),
        8000,
        true
        )
        Fireball.startEffect(effects.fire)
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    otherSprite.destroy()
    if (Alfie.y < otherSprite.y) {
        info.changeScoreBy(5)
        Alfie.say("PIII", 500)
        music.powerUp.play()
    } else {
        info.changeLifeBy(-1)
        Alfie.say("UUU", 500)
    }
})
let Fireball: Sprite = null
let tree2: Sprite = null
let coin2: Sprite = null
let Squirrel: Sprite = null
let Alfie: Sprite = null
let current_level = 0
scene.setBackgroundColor(9)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..........................................................................................................................................1111..................
    ........................................................................................................................................1111111.................
    ......................................................................................................................................11111111111...............
    ......................................................................................................................................11111111111...............
    ...................................................................................................................................11111111111111111............
    ............................111...............11111...............................................................................1111111111111111111...........
    ..........................111111...........1111111111............................................................................111111111111111111111..........
    ..........................1111111...11111.11111111111............................................................................111111111111111111111..........
    .........................1111111111111111111111111111............................................................................111111111111111111111..........
    ........................11111111111111111111111111111.............................................................................11111111111111111111..........
    ....................111111111111111111111111111111111...........................................................................................................
    ..................11111111111111111111111111111111111...........................................................................................................
    .................111111111111111111111111111111111111111..............................111111....................................................................
    ................11111111111111111111111111111111111111111............................11111111...................................................................
    ................11111111111111111111111111111111111111111...................111111..1111111111..................................................................
    ................111111111111111111111111111111111111111111...............11111111111111111111111111.............................................................
    ................111111111111111111111111111111111111111111..............1111111111111111111111111111............................................................
    ................111111111111111111111111111111111111111111.............111111111111111111111111111111...........................................................
    .............................................111111111111..............111111111111111111111111111111...........................................................
    ......................................................................1111111111111111111111111111111...........................................................
    ......................................................................1111111111111111111111111111111...........................................................
    ......................................................................1111111111111111111111111111111...........................................................
    .............................................................................1111........................................111111.................................
    .......................................................................................................................1111111111...............................
    ..............................................................................................................111111..111111111111..............................
    .............................................................................................................1111111111111111111111.1111........................
    .............................................................................................................1111111111111111111111111111.......................
    ............................................................................................................111111111111111111111111111111......................
    ............................................................................................................1111111111111111111111111111111.....................
    ............................................................................................................1111111111111111111111111111111.....................
    ............................................................................................................1111111111111111111111111111111.....................
    ............................................................................................................1111111111111111111111111111111.....................
    ............................................................................................................11111111111...1111111.111111111.....................
    .....................................................666666.....................................................................................................
    ...................................................66666666666666666............................................................................................
    .................................................666666666666666666666..........................................................................................
    .................................................666666666666666666666666.......................................................................................
    ................................................666666666666666666666666666666..................................................................................
    ..............................................66666666666666666666666666666666666...............................................................................
    ............................................66666666666666666666666666666666666666..............................................................................
    .......................................666666666666666666666666666666666666666666666............................................................................
    ...................................666666666666666666666666666666666666666666666666666666.......................................................................
    ..................................6666666666666666666666666666666666666666666666666666666666....................................................................
    ................................6666666666666666666666666666666666666666666666666666666666666666................................................................
    ...............................66666666666666666666666666666666666666666666666666666666666666666666666666.......................................................
    .............................666666666666666666666666666666666666666666666666666666666666666666666666666666.....................................................
    ...........................666666666666666666666666666666666666666666666666666666666666666666666666666666666....................................................
    .........................666666666666666666666666666666666666666666666666666666666666666666666666666666666666...................................................
    .......................666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666..........................................66
    ....................666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666..........................666666
    ..................6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666.............66666666666666666
    ................666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    ..............66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    ............6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    ........66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    ....666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    `)
current_level = 0
Alfie = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . f f f f f f . . . . . 
    . . . . f e e e 1 1 1 f f . . . 
    . . . f e e e e 1 1 1 1 e f f . 
    . . f e e e e e 1 1 1 1 3 3 1 f 
    . . f e e e e e 1 1 1 1 3 e e 1 
    . f e e e e e e 1 1 1 1 e e e e 
    . f e e e e e e 1 1 1 f 1 e e e 
    . f e e e e e 1 1 1 1 f f e e e 
    . . f e e e e 1 1 1 1 e e e e f 
    . . . f 3 f e 1 f 3 f e e e f . 
    . . . f 3 3 f f f 3 3 f f f f . 
    . . . . f f . . . f f . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(Alfie, 100, 0)
Alfie.setFlag(SpriteFlag.BounceOnWall, false)
startinstructions()
startLevel()
game.onUpdate(function () {
    Alfie.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . f f f f f f . . . . . 
        . . . . f e e e 1 1 1 f f . . . 
        . . . f e e e e 1 1 1 1 e f f . 
        . . f e e e e e 1 1 1 1 3 3 1 f 
        . . f e e e e e 1 1 1 1 3 e e 1 
        . f e e e e e e 1 1 1 1 e e e e 
        . f e e e e e e 1 1 1 f 1 e e e 
        . f e e e e e 1 1 1 1 f f e e e 
        . . f e e e e 1 1 1 1 e e e e f 
        . . . f 3 f e 1 f 3 f e e e f . 
        . . . f 3 3 f f f 3 3 f f f f . 
        . . . . f f . . . f f . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
    if (Alfie.vy < 0) {
        Alfie.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . f f f . . . . . . . . . . 
            . . . f 9 f . . . . . . . . . . 
            . . . f f f f f f f f . . . . . 
            . . . . . f e f 1 1 e f . . . . 
            . . . . f b b f 1 1 e f . . . . 
            . . . . f b b f f f e f . . . . 
            . . . f d f e e e e e f . . . . 
            . . . f d f e e e e e f . . . . 
            . . f f d d f f f f f b f . . . 
            . . f e f d d d d d f b b f . . 
            . f e e e f f d d f . f f . . . 
            . f f e e e e f f . . . . . . . 
            . . . f f e e f b f . . . . . . 
            . . . . . f f f b b f . . . . . 
            . . . . . . . . f f . . . . . . 
            `)
    } else if (Alfie.vy > 0) {
        Alfie.setImage(img`
            . . . . . . . . . . . . . . . . 
            . f f f f f . . . . . . . . . . 
            f e e e e e f . . . . . . . . . 
            f e e e e e f . . f . . . . . . 
            f e e e e f 1 f f b f . . . . . 
            f e e e f 1 1 1 f d b f . . . . 
            . f f f 1 1 f f f f f . . . . . 
            . f f 1 1 f e e e e e f . . . . 
            f b b f 1 f e f 1 e e f . . . . 
            f b f . f f e f f e e f . . . . 
            . f . f f f e e e e e f . . . . 
            . . f b b f e e e e e f . . . . 
            . . f b f . f f f f f . . . . . 
            . . . f . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else if (Alfie.x % 2 == 0) {
        Alfie.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . f f f f f f . . . . . 
            . . . . f e e e 1 1 1 f f . . . 
            . . . f e e e e 1 1 1 1 e f f . 
            . . f e e e e e 1 1 1 1 3 3 1 f 
            . . f e e e e e 1 1 1 1 3 e e 1 
            . f e e e e e e 1 1 1 1 e e e e 
            . f e e e e e e 1 1 1 f 1 e e e 
            . f e e e e e 1 1 1 1 f f e e e 
            . . f e e e e 1 1 1 1 e e e e f 
            . . . f 3 f e 1 f 3 f e e e f . 
            . . . f 3 3 f f f 3 3 f f f f . 
            . . . . f f . . . f f . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else {
    	
    }
    if ((Alfie.isHittingTile(CollisionDirection.Left) || Alfie.isHittingTile(CollisionDirection.Right)) && Alfie.vy >= 0) {
        Alfie.vy = 0
        Alfie.ay = 0
        Alfie.setImage(img`
            . . . . . . f . . . . . . . . . 
            . . . . . f 3 f . . . . . . . . 
            . . . . . f 3 3 f f f f f . . . 
            . . . . . . f f e e e e e f . . 
            . . . . . . . f e f 1 e e f . . 
            . . . . . . f f e f f e e f . . 
            . . . . . . f f e e e e e f . . 
            . . . . . . f f e e e e e f . . 
            . . . . . f f e e e e e f . . . 
            . . . . . f e e e e e e f . . . 
            . . . . . f f f f e e f 3 f . . 
            . . . . . f 1 1 1 f f f 3 3 f . 
            . . . . f f f 1 1 1 f f f f . . 
            . . . . f e e f f f 3 f . . . . 
            . . . . . f f f f f 3 3 f . . . 
            . . . . . . . . . . f f . . . . 
            `)
    } else {
        Alfie.ay = 150
    }
    if (Alfie.vx < 0 || Alfie.isHittingTile(CollisionDirection.Left)) {
        Alfie.image.flipX()
    }
})
forever(function () {
    for (let index = 0; index < 2; index++) {
        music.playTone(262, music.beat(BeatFraction.Quarter))
        music.playTone(523, music.beat(BeatFraction.Half))
        music.playTone(392, music.beat(BeatFraction.Quarter))
        music.playTone(784, music.beat(BeatFraction.Half))
        music.playTone(330, music.beat(BeatFraction.Quarter))
        music.playTone(659, music.beat(BeatFraction.Half))
        music.playTone(392, music.beat(BeatFraction.Quarter))
        music.playTone(784, music.beat(BeatFraction.Half))
    }
    for (let index = 0; index < 2; index++) {
        music.playTone(349, music.beat(BeatFraction.Quarter))
        music.playTone(698, music.beat(BeatFraction.Half))
        music.playTone(262, music.beat(BeatFraction.Quarter))
        music.playTone(523, music.beat(BeatFraction.Half))
        music.playTone(1046, music.beat(BeatFraction.Quarter))
        music.playTone(523, music.beat(BeatFraction.Half))
        music.playTone(698, music.beat(BeatFraction.Quarter))
        music.playTone(1046, music.beat(BeatFraction.Half))
    }
})
